---
title: Agentica > Tutorial > Gmail Agents  
---

## Introduction  

This tutorial will guide you through setting up a **fully functional Gmail Agent** using **Agentica**. With just the following code, youâ€™ll have an agent that can interact with Gmail, powered by **OpenAIâ€™s GPT model**.  

## The Complete Gmail Agent  

First, install the required Gmail connector package:  

```bash
npm install @wrtnlabs/connector-gmail
```  

Then, simply add this code to your project:  

```typescript
import { Agentica } from "@agentica/core";
import { GmailService } from "@wrtnlabs/connector-gmail";
import dotenv from "dotenv";
import OpenAI from "openai";
import typia from "typia";

dotenv.config();

const openai = new OpenAI({ apiKey: process.env.OPENAI_KEY });

export const GamilAgent = new Agentica({
  model: "chatgpt",
  vendor: {
    api: openai,
    model: "gpt-4o-mini",
  },
  controllers: [
    {
      name: "Gmail Connector",
      protocol: "class",
      application: typia.llm.application<GmailService, "chatgpt">(),
      execute: new GmailService({
        clientId: process.env.GMAIL_CLIENT_ID!,
        clientSecret: process.env.GMAIL_CLIENT_SECRET!,
        secret: process.env.GMAIL_REFRESH_TOKEN!,
      }),
    },
  ],
});
```  

## Google API Setup  

Before running the Gmail Agent, you need to configure your Google API credentials.  

1. **Create a Project in Google Cloud Console**  
   - Go to [Google Cloud Console - Gmail API](https://console.cloud.google.com/marketplace/product/google/gmail.googleapis.com).  
   - Create a new project and enable the **Gmail API**.  

2. **Obtain Credentials**  
   - Generate OAuth 2.0 credentials to get your **Client ID** and **Client Secret**.  
   - Obtain a **Refresh Token** for persistent authentication.  

3. **Set Up Environment Variables**  
   - Add the following credentials to your `.env` file:  

   ```env
   GMAIL_CLIENT_ID=your-gmail-client-id  
   GMAIL_CLIENT_SECRET=your-gmail-client-secret  
   GMAIL_REFRESH_TOKEN=your-gmail-refresh-token  
   ```

   Once this setup is complete, your Gmail Agent will be able to interact with Gmail seamlessly.

## What This Does  

With this single setup, your Gmail Agent is ready to:  

- **Process Gmail data** using the `GmailService` connector.  
- **Leverage OpenAIâ€™s GPT model** for intelligent email interactions.  
- **Ensure type safety** with `typia`.  
- **Securely manage credentials** using `dotenv`.  

Just set up your **environment variables** in a `.env` file:  

```env
OPENAI_KEY=your-openai-api-key
GMAIL_CLIENT_ID=your-gmail-client-id
GMAIL_CLIENT_SECRET=your-gmail-client-secret
GMAIL_REFRESH_TOKEN=your-gmail-refresh-token
```  

## Selecting Specific Functions  

By using TypeScriptâ€™s `Pick` utility type, you can restrict the `GmailService` to only expose the methods you need.  

For example, in the following code, only these five functions are available:  

- `createDraft`
- `findEmails`
- `deleteMailList`
- `sendEmail`
- `hardDelete`

```typescript
export const GamilAgent = new Agentica({
  model: "chatgpt",
  vendor: {
    api: openai,
    model: "gpt-4o-mini",
  },
  controllers: [
    {
      name: "Gmail Connector",
      protocol: "class",
      application: typia.llm.application<
        Pick<
          GmailService,
          | "createDraft"
          | "findEmails"
          | "deleteMailList"
          | "sendEmail"
          | "hardDelete"
        >,
        "chatgpt"
      >(),
      execute: new GmailService({
        clientId: process.env.GMAIL_CLIENT_ID!,
        clientSecret: process.env.GMAIL_CLIENT_SECRET!,
        secret: process.env.GMAIL_REFRESH_TOKEN!,
      }),
    },
  ],
});
```

This ensures that the `GmailAgent` only has access to these specific functions, making your integration more secure and maintainable.


## Available Functions  

For a list of available functions in `GmailService`, check out the source code:  
ðŸ‘‰ [wrtnlabs/connectors - GmailService.ts](https://github.com/wrtnlabs/connectors/blob/main/packages/gmail/src/gmail/GmailService.ts)  

Thatâ€™s it. This **single code block** gives you a fully functional Gmail Agent, ready for AI-powered email automation. ðŸš€